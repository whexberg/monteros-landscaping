<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>

    {{ with (templates.Defer (dict "key" "global")) }}
    {{ partial "css.html" . }}
    {{ end }}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Smooth scrolling with header offset
            const links = document.querySelectorAll('a[href^="#"]');
            const headerHeight = document.querySelector('header').offsetHeight;

            links.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();

                    let targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);

                    if (targetElement) {
                        const offsetTop = targetElement.offsetTop - headerHeight - 20; // 20px extra padding

                        window.scrollTo({
                            top: offsetTop,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        });
    </script>
</head>

<body class="min-h-screen flex flex-col bg-white text-gray-900">
    {{ partial "header.html" . }}

    <main class="flex-1">
        {{ block "main" . }}{{ end }}
    </main>

    {{ partial "footer.html" . }}

</body>

</html>